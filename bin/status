#!/usr/bin/env node
'use strict'

const http = require('http')
const R = require('./utils/ramda')
const program = require('./utils/program')

process.title = 'status'

program
  .usage('<status_code>')
  .description('Print out the status message for the given status code')
  .parse(process.argv)

const log = R.bind(console.log, console)
const help = R.bind(program.help, program)
const getStatusMessage = R.propOr('<Invalid Status Code>', R.__, http.STATUS_CODES)
const printStatusMessage = R.pipe(
  getStatusMessage,
  log
)
const run = R.pipe(
  R.path([ 'args', '0' ]),
  R.ifElse(R.isNil, help, printStatusMessage)
)

run(program)
