#!/usr/bin/env node
'use strict'

process.title = 'base'

const program = require('commander')

program
  .version('0.0.1')
  .usage('[options] <nums ...>')
  .description('Converts numbers from base(x) to base(y)')
  .option('-f, --from <n>', 'The base to expect input from [10]', 10)
  .option('-t, --to <n>', 'The base to output to [16]', 16)
  .option('-v, --verbose', 'Display full information')
  .parse(process.argv)

if (!program.args.length) return program.help()

program.args.forEach((arg) => {
  let output = convert(arg, program.from, program.to)
  if (program.verbose) {
    output = `${arg} (${program.from}) = ${output} (${program.to})`
  }
  console.log(output)
})

function convert(num, from, to) {
  return parseInt(num, from).toString(to)
}
